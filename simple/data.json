{
    "schema": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "type": "object",
        "properties": {
            "header": {
                "type": "object",
                "required": [
                    "content-type",
                    "appid",
                    "signature"
                ],
                "properties": {
                    "content-type": {
                        "type": "string",
                        "title": "文件格式",
                        "default": "application/json"
                    },
                    "appid": {
                        "type": "string",
                        "title": "访问服务的备案id"
                    },
                    "signature": {
                        "type": "string",
                        "title": "签名,外网访问需开启签名"
                    }
                }
            },
            "body": {
                "type": "object",
                "required": [
                    "title",
                    "advertiserId",
                    "beginAt",
                    "endAt",
                    "index",
                    "size"
                ],
                "properties": {
                    "title": {
                        "type": "string",
                        "title": "广告标题",
                        "example": "新年豪礼"
                    },
                    "advertiserId": {
                        "type": "string",
                        "format": "int",
                        "title": "广告主",
                        "example": "123"
                    },
                    "beginAt": {
                        "type": "string",
                        "format": "datetime",
                        "title": "可以投放开始时间",
                        "example": "2023-01-12 00:00:00"
                    },
                    "endAt": {
                        "type": "string",
                        "format": "datetime",
                        "title": "投放结束时间",
                        "example": "2023-01-30 00:00:00"
                    },
                    "index": {
                        "type": "string",
                        "format": "int",
                        "title": "页索引,0开始",
                        "default": "0"
                    },
                    "size": {
                        "type": "string",
                        "format": "int",
                        "title": "每页数量",
                        "default": "10"
                    }
                }
            },
            "service": {
                "type": "object",
                "required": [
                    "path",
                    "method",
                    "description",
                    "server"
                ],
                "properties": {
                    "path": {
                        "type": "string",
                        "title": "请求路径",
                        "default": "/admin/v1/ad/list",
                        "readOnly": true
                    },
                    "method": {
                        "type": "string",
                        "title": "请求方法",
                        "default": "POST",
                        "readOnly": true
                    },
                    "description": {
                        "type": "string",
                        "title": "描述",
                        "default": "广告列表",
                        "readOnly": true
                    },
                    "requestPreScript": {
                        "type": "string",
                        "title": "前置脚本",
                        "default": "var signature=\\\"javascript\\\"",
                        "readOnly": true
                    },
                    "variables": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "title": "变量名称",
                                    "readOnly": true
                                },
                                "value": {
                                    "type": "string",
                                    "title": "变量值",
                                    "readOnly": false
                                },
                                "description": {
                                    "type": "string",
                                    "title": "说明",
                                    "readOnly": true
                                }
                            }
                        },
                        "example": [
                            {
                                "name": "serviceId",
                                "value": "1234,xyuientg,74ere",
                                "description": "服务ID"
                            }
                        ]
                    },
                    "server": {
                        "type": "string",
                        "title": "请求地址",
                        "default": "dev",
                        "oneOf": [
                            {
                                "const": "dev",
                                "title": "dev-开发环境"
                            },
                            {
                                "const": "test",
                                "title": "test-测试环境"
                            },
                            {
                                "const": "prod",
                                "title": "prod-正式环境"
                            }
                        ]
                    },
                    "serverData": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "title": "名称"
                                },
                                "host": {
                                    "type": "string",
                                    "title": "地址"
                                },
                                "proxy": {
                                    "type": "string",
                                    "title": "代理"
                                },
                                "description": {
                                    "type": "string",
                                    "title": "说明"
                                }
                            }
                        },
                        "readOnly": true,
                        "example": [
                            {
                                "name": "dev",
                                "host": "http://localhost:801",
                                "description": "开发环境",
                                "proxy": "",
                                "extensionIds": ""
                            },
                            {
                                "name": "test",
                                "host": "test.domain.com",
                                "description": "测试环境",
                                "proxy": "",
                                "extensionIds": ""
                            },
                            {
                                "name": "prod",
                                "host": "http://domain.com",
                                "description": "正式环境",
                                "proxy": "",
                                "extensionIds": ""
                            }
                        ]
                    }
                }
            }
        }
    },
    "example": {
        "header": {
            "content-type": "application/json",
            "appid": "",
            "signature": ""
        },
        "body": {
            "title": "新年豪礼",
            "advertiserId": "123",
            "beginAt": "2023-01-12 00:00:00",
            "endAt": "2023-01-30 00:00:00",
            "index": "0",
            "size": "10"
        },
        "service": {
            "path": "/admin/v1/ad/list",
            "method": "POST",
            "description": "广告列表",
            "requestPreScript": "var signature=\\\"javascript\\\"",
            "variables": [
                {
                    "name": "serviceId",
                    "value": "1234,xyuientg,74ere",
                    "description": "服务ID"
                }
            ],
            "server": "dev",
            "serverData": [
                {
                    "name": "dev",
                    "host": "http://localhost:801",
                    "description": "开发环境",
                    "proxy": "",
                    "extensionIds": ""
                },
                {
                    "name": "test",
                    "host": "test.domain.com",
                    "description": "测试环境",
                    "proxy": "",
                    "extensionIds": ""
                },
                {
                    "name": "prod",
                    "host": "http://domain.com",
                    "description": "正式环境",
                    "proxy": "",
                    "extensionIds": ""
                }
            ]
        }
    },
    "uiSchema": {
        "ui:order": [
            "service",
            "header",
            "body",
            "*"
        ],
        "service": {
            "serverData": {
                "ui:classNames": "hidden"
            },
            "variables": {
                "ui:options": {
                    "addable": false,
                    "removable": false
                },
                "value": {
                    "ui:widget": "textarea"
                }
            }
        }
    }
}